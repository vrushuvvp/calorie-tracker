import json
import os

@app.route("/save", methods=["POST"])
def save_data():
    data = request.get_json()

    if not data:
        return jsonify({"error": "No data provided"}), 400

    # Append to JSON file
    if os.path.exists("data.json"):
        with open("data.json", "r") as f:
            existing_data = json.load(f)
    else:
        existing_data = []

    existing_data.append(data)

    with open("data.json", "w") as f:
        json.dump(existing_data, f, indent=4)

    return jsonify({"message": "Data saved successfully!"})
